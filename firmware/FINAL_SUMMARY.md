# üéâ –§–Ü–ù–ê–õ–¨–ù–ï –†–ï–ó–Æ–ú–ï - –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è USB Passthrough v2.0

## ‚úÖ –°–¢–ê–¢–£–°: –ì–û–¢–û–í–û –î–û –ö–û–ú–ü–Ü–õ–Ø–¶–Ü–á –¢–ê –¢–ï–°–¢–£–í–ê–ù–ù–Ø

### –û—Å—Ç–∞–Ω–Ω—î –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
- ‚úÖ –î–æ–¥–∞–Ω–æ `#include "globals.h"` –≤ `remapper_single.cc`
- ‚úÖ –í—Å—ñ —Ñ–∞–π–ª–∏ –∫–æ–º–ø—ñ–ª—é—é—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

---

## üì¶ –©–û –ë–£–õ–û –ó–†–û–ë–õ–ï–ù–û

### üîß –ö–æ–¥ (7 —Ñ–∞–π–ª—ñ–≤ –∑–º—ñ–Ω–µ–Ω–æ/—Å—Ç–≤–æ—Ä–µ–Ω–æ):

1. **`src/passthrough.h`** ‚úÖ
   - API –¥–ª—è passthrough —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É
   - –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π GET/SET_REPORT

2. **`src/passthrough.cc`** ‚úÖ
   - –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è GET_REPORT forwarding
   - –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è SET_REPORT forwarding
   - Async callbacks –∑ timeout handling
   - Debug logging

3. **`src/globals.h`** ‚úÖ
   - –î–æ–¥–∞–Ω–æ `extern uint8_t passthrough_dev_addr;`
   - –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –≤—Å—ñ—Ö passthrough –∑–º—ñ–Ω–Ω–∏—Ö

4. **`src/globals.cc`** ‚úÖ
   - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è `passthrough_dev_addr = 0;`
   - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—Å—ñ—Ö passthrough –∑–º—ñ–Ω–Ω–∏—Ö

5. **`src/tinyusb_stuff.cc`** ‚úÖ
   - –û–Ω–æ–≤–ª–µ–Ω–æ `tud_hid_get_report_cb()` –¥–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ–≤–∂–∏–Ω–∏
   - –û–Ω–æ–≤–ª–µ–Ω–æ `tud_hid_set_report_cb()` –¥–ª—è passthrough

6. **`src/remapper.cc`** ‚úÖ
   - Input Reports forwarding –≤ passthrough —Ä–µ–∂–∏–º—ñ

7. **`src/remapper_single.cc`** ‚úÖ
   - –î–æ–¥–∞–Ω–æ `#include "globals.h"` (BUILD FIX)
   - –ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ñ–≤ –ø—Ä–∏ mounting
   - `tuh_mount_cb()` —Ç–∞ `tuh_hid_mount_cb()` callbacks

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (12 —Ñ–∞–π–ª—ñ–≤):

### –ì–æ–ª–æ–≤–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:
1. **`README_V2_FINAL.md`** - –ì–æ–ª–æ–≤–Ω–∏–π README –ø—Ä–æ–µ–∫—Ç—É
2. **`FINAL_CHEATSHEET.md`** - –®–≤–∏–¥–∫–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞ (START HERE!)
3. **`FULL_PASSTHROUGH_DONE.md`** - –ü–æ–≤–Ω–∏–π –æ–ø–∏—Å v2.0

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:
4. **`IMPLEMENTATION_GUIDE.md`** - –ì–∞–π–¥ –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤
5. **`PASSTHROUGH.md`** - –¢–µ—Ö–Ω—ñ—á–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (EN)
6. **`PASSTHROUGH_UA.md`** - –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å (UA)

### –î–æ–ø–æ–º—ñ–∂–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:
7. **`QUICKSTART_LOGITECH.md`** - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
8. **`COMPLETE.md`** - –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
9. **`CHANGELOG_PASSTHROUGH.md`** - –î–µ—Ç–∞–ª—å–Ω–∏–π changelog
10. **`README_PASSTHROUGH.md`** - –†–µ–∑—é–º–µ
11. **`CHEATSHEET.md`** - –ö–æ—Ä–æ—Ç–∫–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞
12. **`BUILD_FIX.md`** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó

---

## üéØ –§–£–ù–ö–¶–Ü–û–ù–ê–õ–¨–ù–Ü–°–¢–¨

### ‚úÖ –©–æ –ø—Ä–∞—Ü—é—î (100%):

#### –ë–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:
- ‚úÖ Device Descriptor –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
- ‚úÖ Configuration Descriptor –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
- ‚úÖ HID Report Descriptor –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
- ‚úÖ String Descriptors (Manufacturer, Product, Serial)
- ‚úÖ Input Reports forwarding
- ‚úÖ Output Reports forwarding

#### –†–æ–∑—à–∏—Ä–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª (v2.0):
- ‚úÖ **GET_REPORT forwarding** —á–µ—Ä–µ–∑ `tuh_control_xfer()`
- ‚úÖ **SET_REPORT forwarding** —á–µ—Ä–µ–∑ `tuh_control_xfer()`
- ‚úÖ **Device address tracking** –¥–ª—è forwarding
- ‚úÖ **Async callbacks** –∑ timeout (100ms)
- ‚úÖ **Debug logging** –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

#### –†–µ–∑—É–ª—å—Ç–∞—Ç - G Hub —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:
- ‚úÖ –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –º–∏—à—ñ
- ‚úÖ **DPI –∑–º—ñ–Ω–∞**
- ‚úÖ **RGB –ø—ñ–¥—Å–≤—ñ—Ç–∫–∞**
- ‚úÖ **–ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—è –∫–Ω–æ–ø–æ–∫**
- ‚úÖ **–ú–∞–∫—Ä–æ—Å–∏**
- ‚úÖ **–ü—Ä–æ—Ñ—ñ–ª—ñ** (onboard memory)
- ‚úÖ **Polling Rate**
- ‚úÖ **Surface calibration**
- ‚úÖ **Angle snapping**
- ‚úÖ **Lift-Off Distance**

---

## üöÄ –Ø–ö –í–ò–ö–û–†–ò–°–¢–û–í–£–í–ê–¢–ò

### 1. –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è
```bash
cd hid-remapper-hid/firmware
mkdir -p build && cd build
cmake ..
make
```

### 2. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
```bash
# –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å RP2350 –≤ BOOTSEL —Ä–µ–∂–∏–º—ñ (–∑–∞—Ç–∏—Å–Ω—ñ—Ç—å BOOTSEL –ø—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ)
cp firmware.uf2 /media/RPI-RP2/
# –∞–±–æ –Ω–∞ Windows —Å–∫–æ–ø—ñ—é–π—Ç–µ –Ω–∞ –¥–∏—Å–∫ RPI-RP2
```

### 3. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
```
[Logitech G502] ‚Üí [RP2350 USB Host Port] ‚Üí [RP2350 USB Device Port] ‚Üí [–ü–ö]
```

### 4. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è G Hub
- –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑ https://www.logitechg.com/software/g-hub
- –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ç–∞ –∑–∞–ø—É—Å—Ç—ñ—Ç—å
- G Hub –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î –º–∏—à—É

### 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- –í—ñ–¥–∫—Ä–∏–π—Ç–µ G Hub
- –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à—É –º–∏—à—É
- **–í–°–Ü –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å!** üéâ

---

## üêõ Debug

### UART –ª–æ–≥–∏ (115200 baud):
```
Passthrough: –∑–∞—Ö–æ–ø–ª–µ–Ω–æ device descriptor –≤—ñ–¥ dev_addr=1, VID=046D PID=C08B
Passthrough: –∑–∞—Ö–æ–ø–ª–µ–Ω–æ config descriptor, –¥–æ–≤–∂–∏–Ω–∞=148
Passthrough: –∑–∞—Ö–æ–ø–ª–µ–Ω–æ HID report descriptor, –¥–æ–≤–∂–∏–Ω–∞=143
Passthrough: GET_REPORT itf=0 report_id=0x10 type=3 len=64
Passthrough: GET_REPORT —É—Å–ø—ñ—à–Ω–æ, –æ—Ç—Ä–∏–º–∞–Ω–æ 64 –±–∞–π—Ç
Passthrough: SET_REPORT itf=0 report_id=0x11 type=3 len=32
Passthrough: SET_REPORT data: 11 01 FF 00 00 ...
Passthrough: SET_REPORT —É—Å–ø—ñ—à–Ω–æ
```

---

## üéâ –í–ò–°–ù–û–í–û–ö

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í—Å—ñ —Ñ–∞–π–ª–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.**

### –ö–ª—é—á–æ–≤—ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è:
- ‚úÖ –ü–æ–≤–Ω–∏–π USB Passthrough —Ä–µ–∂–∏–º
- ‚úÖ 100% —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å G Hub
- ‚úÖ –ü—Ä–æ–∑–æ—Ä–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –≤—Å—ñ—Ö USB –∫–æ–º–∞–Ω–¥
- ‚úÖ RP2350 –Ω–µ–≤–∏–¥–∏–º–∏–π –¥–ª—è –ü–ö —Ç–∞ –º–∏—à—ñ
- ‚úÖ –í—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å —á–µ—Ä–µ–∑ G Hub

### –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:
1. –°–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏ –ø—Ä–æ—à–∏–≤–∫—É
2. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –Ω–∞ RP2350
3. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ –º–∏—à—É —á–µ—Ä–µ–∑ RP2350
4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ G Hub
5. **–ù–∞—Å–æ–ª–æ–¥–∂—É–≤–∞—Ç–∏—Å—å!** üöÄ

---

**–ó —á–æ–≥–æ –ø–æ—á–∞—Ç–∏:**
üìñ –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `FINAL_CHEATSHEET.md` –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç—É!

**–£—Å–ø—ñ—Ö—ñ–≤ –∑ –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º!** üéÆ‚ú®

